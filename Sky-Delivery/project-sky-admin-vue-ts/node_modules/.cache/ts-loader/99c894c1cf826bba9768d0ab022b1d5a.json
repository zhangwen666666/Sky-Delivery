{"remainingRequest":"F:\\JavaCode\\Sky-Delivery\\Sky-Delivery\\project-sky-admin-vue-ts\\node_modules\\babel-loader\\lib\\index.js!F:\\JavaCode\\Sky-Delivery\\Sky-Delivery\\project-sky-admin-vue-ts\\node_modules\\ts-loader\\index.js??ref--14-2!F:\\JavaCode\\Sky-Delivery\\Sky-Delivery\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\JavaCode\\Sky-Delivery\\Sky-Delivery\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\JavaCode\\Sky-Delivery\\Sky-Delivery\\project-sky-admin-vue-ts\\src\\views\\setmeal\\index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"F:\\JavaCode\\Sky-Delivery\\Sky-Delivery\\project-sky-admin-vue-ts\\src\\views\\setmeal\\index.vue","mtime":1739539654579},{"path":"F:\\JavaCode\\Sky-Delivery\\Sky-Delivery\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739450071092},{"path":"F:\\JavaCode\\Sky-Delivery\\Sky-Delivery\\project-sky-admin-vue-ts\\node_modules\\babel-loader\\lib\\index.js","mtime":1739450079482},{"path":"F:\\JavaCode\\Sky-Delivery\\Sky-Delivery\\project-sky-admin-vue-ts\\node_modules\\ts-loader\\index.js","mtime":1739450053695},{"path":"F:\\JavaCode\\Sky-Delivery\\Sky-Delivery\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739450071092},{"path":"F:\\JavaCode\\Sky-Delivery\\Sky-Delivery\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\index.js","mtime":1739450054687}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nvar _category = require(\"@/api/category\");\n\nvar _setMeal = require(\"@/api/setMeal\");\n\nvar _default = {\n  data: function data() {\n    return {\n      name: '',\n      page: 1,\n      pageSize: 10,\n      total: 0,\n      records: [],\n      setmealList: [],\n      categoryId: '',\n      statusArr: [{\n        value: '0',\n        label: '停售'\n      }, {\n        value: '1',\n        label: '起售'\n      }],\n      status: '',\n      multipleSelection: '' // 当前表格选中的多个元素\n\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    // 根据分类类型查询分类 （套餐分类下拉框数据）\n    (0, _category.getCategoryByType)({\n      type: 2\n    }).then(function (res) {\n      if (res.data.code === 1) {\n        _this.setmealList = res.data.data;\n      }\n    }); // 查询套餐分页数据\n\n    this.pageQuery();\n  },\n  methods: {\n    // 分页查询\n    pageQuery: function pageQuery() {\n      var _this2 = this;\n\n      // alert('分页查询')\n      // 封装分页查询参数\n      var p = {\n        page: this.page,\n        pageSize: this.pageSize,\n        name: this.name,\n        status: this.status,\n        categoryId: this.categoryId\n      };\n      (0, _setMeal.getSetmealPage)(p).then(function (res) {\n        if (res.data.code === 1) {\n          _this2.total = res.data.data.total;\n          _this2.records = res.data.data.records;\n        }\n      });\n    },\n    // pageSize发生变化时触发\n    handleSizeChange: function handleSizeChange(pageSize) {\n      this.pageSize = pageSize;\n      this.pageQuery();\n    },\n    // page发生变化时触发\n    handleCurrentChange: function handleCurrentChange(page) {\n      this.page = page;\n      this.pageQuery();\n    },\n    // 修改套餐销售状态\n    handleStartOrStop: function handleStartOrStop(row) {\n      var _this3 = this;\n\n      this.$confirm('确认要修改当前套餐的状态吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        (0, _setMeal.enableOrDisableSetmeal)({\n          id: row.id,\n          status: row.status === 1 ? 0 : 1\n        }).then(function (res) {\n          if (res.data.code === 1) {\n            _this3.$message.success('套餐状态修改成功!');\n\n            _this3.pageQuery();\n          }\n        }).catch(function (msg) {\n          _this3.$message.error(msg);\n        });\n      });\n    },\n    // （批量）删除套餐\n    deleteHandle: function deleteHandle(type, id) {\n      var _this4 = this;\n\n      this.$confirm('确认要删除所选套餐吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        var param = ''; // 保存最终调用删除接口时所传的参数\n\n        if (type === 'B') {\n          // 批量删除\n          // alert(this.multipleSelection.length)\n          var arr = new Array();\n\n          _this4.multipleSelection.forEach(function (element) {\n            arr.push(element.id);\n          });\n\n          param = arr.join(',');\n        } else {\n          // 单一删除\n          // alert('单一删除')\n          param = id;\n        } // 调用删除接口\n\n\n        (0, _setMeal.deleteSetmeal)(param).then(function (res) {\n          if (res.data.code === 1) {\n            _this4.$message.success('删除成功!');\n\n            _this4.pageQuery();\n          } else {\n            _this4.$message.error(res.data.msg);\n          }\n        });\n      });\n    },\n    // 处理选中的数据赋值给模型，用于批量处理\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val; // console.log('当前表格勾选了几项：' + val.length);\n      // val.forEach(element => {\n      //   console.log(element.id);\n      // });\n    }\n  }\n};\nexports.default = _default;",{"version":3,"sources":["F:\\JavaCode\\Sky-Delivery\\Sky-Delivery\\project-sky-admin-vue-ts\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\JavaCode\\Sky-Delivery\\Sky-Delivery\\project-sky-admin-vue-ts\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\JavaCode\\Sky-Delivery\\Sky-Delivery\\project-sky-admin-vue-ts\\src\\views\\setmeal\\index.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport {getCategoryByType} from '@/api/category'\r\nimport {getSetmealPage, enableOrDisableSetmeal, deleteSetmeal} from '@/api/setMeal'\r\nexport default {\r\n  data(){\r\n    return {\r\n      name: '', // 套餐名称\r\n      page: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n      records: [],\r\n      setmealList: [],\r\n      categoryId: '', // 分类Id\r\n      statusArr: [\r\n        {\r\n          value: '0',\r\n          label: '停售'\r\n        },\r\n        {\r\n          value: '1',\r\n          label: '起售'\r\n        }\r\n      ],\r\n      status: '', // 售卖状态\r\n      multipleSelection: '' // 当前表格选中的多个元素\r\n    }\r\n  },\r\n\r\n  created(){\r\n    // 根据分类类型查询分类 （套餐分类下拉框数据）\r\n    getCategoryByType({type: 2}).then((res) => {\r\n      if(res.data.code === 1){\r\n        this.setmealList = res.data.data\r\n      }\r\n    })\r\n\r\n    // 查询套餐分页数据\r\n    this.pageQuery()\r\n  },\r\n\r\n  methods: {\r\n    // 分页查询\r\n    pageQuery(){\r\n      // alert('分页查询')\r\n      // 封装分页查询参数\r\n      const p = {\r\n        page: this.page,\r\n        pageSize: this.pageSize,\r\n        name: this.name,\r\n        status: this.status,\r\n        categoryId: this.categoryId\r\n      }\r\n\r\n      getSetmealPage(p).then((res) => {\r\n        if(res.data.code === 1){\r\n          this.total = res.data.data.total\r\n          this.records = res.data.data.records\r\n        }\r\n      })\r\n    },\r\n\r\n    // pageSize发生变化时触发\r\n    handleSizeChange(pageSize){\r\n      this.pageSize = pageSize\r\n      this.pageQuery()\r\n    },\r\n\r\n    // page发生变化时触发\r\n    handleCurrentChange(page){\r\n      this.page = page\r\n      this.pageQuery()\r\n    },\r\n\r\n    // 修改套餐销售状态\r\n    handleStartOrStop(row){\r\n      this.$confirm('确认要修改当前套餐的状态吗?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n      }).then(() => {\r\n        enableOrDisableSetmeal({id: row.id, status: row.status === 1 ? 0 : 1}).then((res) => {\r\n          if(res.data.code === 1){\r\n            this.$message.success('套餐状态修改成功!')\r\n            this.pageQuery()\r\n          }\r\n        }).catch((msg) => {\r\n          this.$message.error(msg)\r\n        })\r\n      })\r\n    },\r\n\r\n    // （批量）删除套餐\r\n    deleteHandle(type: string, id: string){\r\n      this.$confirm('确认要删除所选套餐吗?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n      }).then(() => {\r\n        let param = '' // 保存最终调用删除接口时所传的参数\r\n        if (type === 'B'){\r\n          // 批量删除\r\n          // alert(this.multipleSelection.length)\r\n          const arr = new Array\r\n          this.multipleSelection.forEach((element) => {\r\n            arr.push(element.id)\r\n          })\r\n          param = arr.join(',')\r\n        } else {\r\n          // 单一删除\r\n          // alert('单一删除')\r\n          param = id\r\n        }\r\n        // 调用删除接口\r\n        deleteSetmeal(param).then((res) => {\r\n          if (res.data.code === 1) {\r\n            this.$message.success('删除成功!')\r\n            this.pageQuery()\r\n          } else{\r\n            this.$message.error(res.data.msg)\r\n          }\r\n        })\r\n      })\r\n    },\r\n\r\n    // 处理选中的数据赋值给模型，用于批量处理\r\n    handleSelectionChange(val){\r\n      this.multipleSelection = val\r\n      // console.log('当前表格勾选了几项：' + val.length);\r\n      // val.forEach(element => {\r\n      //   console.log(element.id);\r\n      // });\r\n    },\r\n  }\r\n}\r\n"],"sourceRoot":""}]}